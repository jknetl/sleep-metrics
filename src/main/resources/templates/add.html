<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" layout:decorate="~{layout}">
<!--
  ====================================================================================================
  = The content is for static prototyping only! Only fragment content will be used in production.
  = Everything else will be substituted with layout.html template!
  ====================================================================================================
-->
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Add a sleep record</title>
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" type="text/css" href="../static/css/sleep-metrics.css" th:href="@{/css/sleep-metrics.css}">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/docs/4.4/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/4.4/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/4.4/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon.ico">
    <meta name="msapplication-config" content="/docs/4.4/assets/img/favicons/browserconfig.xml">
    <meta name="theme-color" content="#563d7c">
  </head>
  <body>

    <div id="header" th:replace="fragments/header :: header">
      <!--
        ====================================================================================================
        = This content is for static prototyping only! It will be substituted with fragments/header.html   =
        = at runtime! So edit that file instead.                                                           =
        ====================================================================================================
      -->
      <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="home.html" th:href="@{/}">Sleep-Metrics</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="home.html" th:href="@{/}">Statistics</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="list.html" th:href="@{/sleep/list}">List records</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="add.html" th:href="@{/sleep/add}">Add record</a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0" method="POST" action="#" th:action="@{/login}">
            <input class="form-control mr-sm-2" type="text" placeholder="User" aria-label="User">
            <input class="form-control mr-sm-2" type="password" placeholder="password" aria-label="password">
            <button class="btn btn-secondary my-2 my-sm-0" type="submit">Login</button>
          </form>
          <a class="nav-link" href="register.html" th:href="@{/register}">Register</a>
        </div>
      </nav>
    </div>

    <div layout:fragment="content" >
      <h1>Add a sleep record</h1>

      <form action="#" method="POST" th:action="@{/sleep/add}" th:object="${sleep}">
        <input type="hidden" name="user" id="user" value="null" th:value="${uid}">
        <label for="started-at">Fell asleep at:</label>
        <input type="datetime-local" id="started-at" name="started-at" th:field="*{from}">
        <span class="error" th:if="${#fields.hasErrors('from')}" th:errors="*{from}"></span>
        <br>
        <label for="finished-at">Woke up at:</label>
        <input type="datetime-local" id="finished-at" name="finished-at" th:field="*{till}">
        <span class="error" th:if="${#fields.hasErrors('till')}" th:errors="*{till}"></span>
        <br>
        <label for="awake">Minutes spent awake</label>
        <input type="text" id="awake" name="awake" th:field="*{{awake}}">
        <span class="error" th:if="${#fields.hasErrors('awake')}" th:errors="*{awake}"></span>
        <br>

        <input type="submit" value="Submit">
      </form>
    </div>
    <script type="text/javascript" src="../static/js/jquery-3.4.1.min.js" th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <script type="text/javascript" src="../static/js/bootstrap.js" th:src="@{/js/bootstrap.js}"></script>
  </body>
</html>
